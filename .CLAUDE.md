# Agentic Loops Website

Landing page and documentation site for [Agentic Loops](https://agenticloops.ai) — practical, production-grade patterns for software engineers building AI agent systems.

## Tech Stack

- **Astro 5** (static site generator) with **React 19** islands for interactive components
- **Tailwind CSS 3.4** with CSS custom properties for dark/light theming
- **TypeScript**, **Vite 6**, **Fuse.js** (search), **Nanostores** (state), **Lucide React** (icons)

## Quick Start

```bash
npm install
npm run dev          # Syncs content from GitHub repos, then serves at http://localhost:4321
npm run build        # Production build (sync + typecheck + build)
npm run preview      # Preview production build locally
npm run lint         # ESLint
npm run test         # Pre-deploy validation (build output, links, APIs)
npm run sync         # Sync content only (no dev server)
```

To skip content sync and use a local content directory:
```bash
LOCAL_CONTENT_PATH=/path/to/content npm run dev
```

## Project Structure

```
├── .github/workflows/build-deploy.yml   # CI/CD → GitHub Pages
├── docs/                                # ARCHITECTURE.md, CONTENT-GUIDE.md, DEPLOYMENT.md
├── public/photos/                       # Team member photos, favicon
├── scripts/
│   ├── repos.config.js                  # External repos to sync (add new courses here)
│   ├── sync-content.js                  # Clones repos, extracts + transforms markdown
│   └── validate.js                      # Pre-deploy validation suite
├── src/
│   ├── components/                      # React (.tsx) and Astro (.astro) components
│   ├── config.ts                        # Brand config: name, tagline, links, social URLs
│   ├── content/                         # AUTO-GENERATED (gitignored) — synced course content
│   ├── content.config.ts                # Zod schema for content frontmatter
│   ├── layouts/Layout.astro             # Main HTML layout wrapper
│   ├── pages/
│   │   ├── index.astro                  # Homepage entry point
│   │   └── api/                         # JSON endpoints (course-index, course-modules)
│   ├── stores/                          # Nanostores state management
│   ├── styles/global.css                # Theme variables, animations, component styles
│   └── ThemeContext.tsx                  # Dark/light theme React context
├── astro.config.mjs                     # Site URL, base path, integrations
└── tailwind.config.js                   # Custom fonts (Inter, Rajdhani, Azeret Mono), colors
```

## Content Sync Architecture

Course content is NOT stored in this repo. It is pulled from external GitHub repositories at build time.

**Flow:** External repo → `scripts/sync-content.js` clones it → extracts markdown matching `^\d{2}-` pattern → transforms links → writes to `src/content/courses/` (gitignored) → Astro builds static pages.

**Currently synced repo** (defined in `scripts/repos.config.js`):
- `agenticloops-ai/ai-agents-engineering` (branch: main) — 6 modules, 50+ lessons

**To add a new course repo**, add an entry to `scripts/repos.config.js`:
```js
{ name: 'repo-name', repo: 'https://github.com/org/repo.git', branch: 'main', contentPath: /^\d{2}-/ }
```

For private repos, set `COURSE_CONTENT_TOKEN` env var with a GitHub PAT.

## Landing Page Sections

The homepage (`src/pages/index.astro`) loads `AppIsland.tsx` which assembles these React components in order:

1. **Header** (`Header.tsx`) — Fixed nav, search (Cmd+K), theme toggle, social icons
2. **Hero** (`Hero.tsx`) — Full-viewport intro with animated `AgentLoopDiagram.tsx`, CTAs to GitHub/Substack
3. **Principles** (`About.tsx`) — "Our Beliefs" manifesto as JSON code block
4. **Team** (`Team.tsx`) — Team member cards with photos, bios, LinkedIn links
5. **Featured Repos** (`RepoSection.tsx`) — 3 repository cards (cyan, violet, pink)
6. **Topics** (`Topics.tsx`) — Curriculum modules loaded dynamically from `/api/course-modules.json`
7. **Subscribe** (`Subscribe.tsx`) — Newsletter CTA
8. **Footer** (`Footer.tsx`) — Copyright, social links

## Design System

- Dark mode default, light mode via `[data-theme="light"]` attribute
- Chamfered/clipped corners (polygon clip-paths, not border-radius)
- Color accents: Cyan, Violet, Pink, Emerald, Amber
- Fonts: Inter (body), Rajdhani (display headings), Azeret Mono (code)
- Scroll-triggered reveal animations via `ScrollReveal.tsx` + Intersection Observer
- All theme tokens defined as CSS custom properties in `src/styles/global.css`

## Brand Configuration

All brand text, links, and social accounts are centralized in `src/config.ts`:
- Brand name, tagline, hero copy
- GitHub org, Substack, LinkedIn, X URLs
- Social icons displayed in header/footer

## Environment Variables

| Variable | Purpose | Where set |
|----------|---------|-----------|
| `SITE_URL` | Base URL (default: `https://agenticloops-ai.github.io`) | CI workflow |
| `BASE_PATH` | Subdirectory for GitHub Pages (default: empty) | CI workflow |
| `COURSE_CONTENT_TOKEN` | GitHub PAT for private content repos | `.env` / GitHub secret |
| `LOCAL_CONTENT_PATH` | Use local content dir instead of cloning | Local dev only |
| `PUBLIC_GOOGLE_ANALYTICS_ID` | Google Analytics tracking ID | GitHub vars |

## CI/CD

GitHub Actions (`.github/workflows/build-deploy.yml`):
- Triggers on push to `main`, manual dispatch, or `repository_dispatch` (external repo updates)
- Runs: `npm ci` → `npm run build` → `npm run test` → deploy to GitHub Pages
- External repos can trigger rebuilds — see `docs/DEPLOYMENT.md`

## Conventions

- Astro components (`.astro`) for static/layout; React components (`.tsx`) for interactive UI
- Components export from `src/components/index.ts`
- Content frontmatter validated by Zod schema in `src/content.config.ts`
- Lesson markdown: start with `##` (H2), not `#` — the H1 is generated from frontmatter `title`
- Use Lucide icon names in kebab-case for `icon` frontmatter field

## Documentation

Detailed docs written by the project creator in `docs/`:
- `docs/ARCHITECTURE.md` — Component architecture, content sync, theme system, extending
- `docs/CONTENT-GUIDE.md` — How to write and format course lessons
- `docs/DEPLOYMENT.md` — Netlify, Vercel, GitHub Pages setup, auto-rebuild config
